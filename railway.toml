[build]
builder = "nixpacks"
workdir = "backend"

[nixpacks]
phases.setup = '''
  apt-get update && apt-get install -y python3 python3-pip
  python3 -m pip install --upgrade pip
  python3 -m pip install -r requirements.txt
'''

phases.build = '''
  echo "Building backend..."
'''

phases.start = '''
  python3 -m pip install uvicorn
  uvicorn main:app_instance --host 0.0.0.0 --port $PORT
'''